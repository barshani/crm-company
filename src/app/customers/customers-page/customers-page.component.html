<div class="row mb-4 w-75 m-auto">
  <div class="h1">
    <i class="fa fa-user"></i> Customers
  </div>
  <form [formGroup]="addCustomerForm" (ngSubmit)="onSubmit()" class="row mb-4">
    <div class="col-2">
      <input formControlName="firstName" type="text" class="form-control" placeholder="firstName">
      <app-customers-error [formField]="getFieldControl('firstName')"></app-customers-error>
    </div>
    <div class="col-2">
      <input formControlName="lastName" type="text" class="form-control" placeholder="lastName">
      <app-customers-error [formField]="getFieldControl('lastName')"></app-customers-error>
    </div>
    <div class="col-2">
      <input formControlName="phone" type="text" class="form-control" placeholder="phone">
      <app-customers-error [formField]="getFieldControl('phone')"></app-customers-error>
    </div>
    <div class="col-2">
      <input (change)="deleteEror()" formControlName="email" type="text" class="form-control" placeholder="email">
      <app-customers-error [formField]="getFieldControl('email')"></app-customers-error>
      <div *ngIf="error" class="rounded text-danger bg-light p-2 mb-2">
        <i class="bi-exclamation-circle-fill"></i>
        email already exist
      </div>
    </div>
    <div class="col-2">
      <input formControlName="address" type="text" class="form-control" placeholder="address">
      <app-customers-error [formField]="getFieldControl('address')"></app-customers-error>
    </div>
    <div class="col-2">
      <button [disabled]="addCustomerForm.invalid" type="submit" class="btn btn-primary">Add customer</button>
    </div>
  </form>
  <table class="table mt-4">
    <thead>
      <tr>
        <th class="col-2">#</th>
        <th class="align-middle">First Name</th>
        <th class="align-middle">Last Name</th>
        <th class="align-middle">Phone</th>
        <th class="align-middle">Email</th>
        <th class="align-middle">Address</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let customer of customers;index as i">
        <td>{{i+1}}
          <a routerLink="/edit-customer/{{customer._id}}" class="btn btn-light">
            <i class="bi bi-pencil text-primary"></i>
          </a>
          <button (click)="onDelete(customer)" class="btn btn-light">
            <i class="bi bi-trash text-danger"></i>
          </button>
          <a routerLink="/view-customer/{{customer._id}}" class="btn btn-light">
            <i class="bi bi-eye"></i>
          </a>
        </td>
        <td>{{customer.firstName}}</td>
        <td>{{customer.lastName}}</td>
        <td>{{customer.phone}}</td>
        <td>{{customer.email}}</td>
        <td>{{customer.address}}</td>
      </tr>
    </tbody>
  </table>
</div>
